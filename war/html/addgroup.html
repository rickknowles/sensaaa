<!DOCTYPE html> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<title>Sensaaa | Add a new sensor group</title> 
<meta http-equiv="content-style-type" content="text/css" /> 
<meta http-equiv="content-script-type" content="text/javascript" /> 
<link rel="stylesheet" type="text/css" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/smoothness/jquery-ui.css"/> 
<link rel="stylesheet" type="text/css" href="../css/sensaaa.css"/> 
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script> 
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script> 
<script type="text/javascript" src="../js/sensaaa-common.js"></script> 
<script type="text/javascript"> 
jQuery(document).ready(function() {
  jQuery('#loggedInUser').loginLink({baseUrl: '..', returnTo: '/html/addgroup.html'});
  jQuery('form#addNewSensorGroupForm .inputPair').append('<div class="errorMsg"></div>');
  
  var form = jQuery('form#addNewSensorGroupForm');
  form.submit(function() {
    jQuery.ajax({
      url: form.attr('action'),
      data: form.serializeArray(),
      type: 'POST',
      success: function(data) {
        location.href = '..';
      },
      error: function(jqXHR, textStatus, errorThrown) {
        alert('Error: ' + errorThrown);
      }
    });    
    return false;
  });
});
</script> 
</head>
  <body class="top">
    <h1>Sensaaa - add a new sensor group</h1>
    <div id="loggedInUser"></div>
    <form id="addNewSensorGroupForm" action="../rest/sensor/group/register" onsubmit="return false;">
      <div class="inputPair" id="namePair">
        <label for="name">Name</label>
        <input type="text" name="name" value="" id="name"/>
      </div>
      <div class="inputPair" id="visibleToPublicPair">
        <input type="checkbox" name="visibleToPublic" value="true" id="visibleToPublic" checked="checked"/>
        <label for="visibleToPublic">Visible to public</label>
      </div>
      <div class="formButtons">
        <input type="submit" value="Save"/>
      </div>
    </form>
  </body>
</html>

